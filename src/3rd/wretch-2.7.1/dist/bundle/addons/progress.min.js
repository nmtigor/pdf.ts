!function(e,r){"object"==typeof exports&&"undefined"!=typeof module?module.exports=r():"function"==typeof define&&define.amd?define(r):(e="undefined"!=typeof globalThis?globalThis:e||self).wretchProgressAddon=r()}(this,(function(){"use strict";return()=>{function e(e){return r=>(t,n)=>{let o=0,s=0;return r(t,n).then((r=>{try{const t=r.headers.get("content-length");s=t?+t:null;const n=new TransformStream({transform(r,t){o+=r.length,s<o&&(s=o),e.progress&&e.progress(o,s),t.enqueue(r)}});return new Response(r.body.pipeThrough(n),r)}catch(e){return r}}))}}return{beforeRequest:(r,t,n)=>r.middlewares([e(n)]),resolver:{progress(e){return this._sharedState.progress=e,this}}}}}));
//# sourceMappingURL=progress.min.js.map

!function(e,r){"object"==typeof exports&&"undefined"!=typeof module?module.exports=r():"function"==typeof define&&define.amd?define(r):(e="undefined"!=typeof globalThis?globalThis:e||self).wretchPerfsAddon=r()}(this,(function(){"use strict";return()=>{const e=new Map;let r=null;const s=(s,t,n,i)=>{if(!s.getEntriesByName)return 0;const o=s.getEntriesByName(t);return o&&o.length>0?(n(o.reverse()[0]),i.clearMeasures&&i.clearMeasures(t),e.delete(t),e.size<1&&(r.disconnect(),i.clearResourceTimings&&i.clearResourceTimings()),1):0};return{resolver:{perfs(t){return this._fetchReq.then((n=>((t,n,i)=>{if(!t||!n)return;const o=i.polyfill("performance",0);((t,n)=>(!r&&t&&n&&(r=new n((r=>{e.forEach(((e,n)=>{s(r,n,e,t)}))})),t.clearResourceTimings&&t.clearResourceTimings()),r))(o,i.polyfill("PerformanceObserver",0))&&(s(o,t,n,o)||(e.size<1&&r.observe({entryTypes:["resource","measure"]}),e.set(t,n)))})(this._wretchReq._url,t,this._wretchReq._config))).catch((()=>{})),this}}}}}));
//# sourceMappingURL=perfs.min.js.map
